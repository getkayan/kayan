apiVersion: v1
kind: ConfigMap
metadata:
  name: kayan-config
  labels:
    app: kayan
data:
  KAYAN_ENV: "production"
  KAYAN_LOG_LEVEL: "info"
  KAYAN_LOG_FORMAT: "json"
  KAYAN_PORT: "8080"
  
  # Database
  KAYAN_DB_TYPE: "postgres"
  KAYAN_DB_MAX_OPEN_CONNS: "25"
  KAYAN_DB_MAX_IDLE_CONNS: "5"
  KAYAN_DB_CONN_MAX_LIFETIME: "5m"
  
  # Rate limiting
  KAYAN_RATE_LIMIT_ENABLED: "true"
  KAYAN_RATE_LIMIT_REQUESTS: "100"
  KAYAN_RATE_LIMIT_WINDOW: "60s"
  
  # Account lockout
  KAYAN_LOCKOUT_ENABLED: "true"
  KAYAN_LOCKOUT_MAX_FAILURES: "5"
  KAYAN_LOCKOUT_DURATION: "15m"
  
  # Session
  KAYAN_SESSION_TTL: "24h"
  KAYAN_REFRESH_TOKEN_TTL: "168h"
  
  # CORS (comma-separated origins)
  KAYAN_CORS_ORIGINS: "https://app.example.com,https://admin.example.com"
  KAYAN_CORS_METHODS: "GET,POST,PUT,DELETE,OPTIONS"
  KAYAN_CORS_HEADERS: "Authorization,Content-Type,X-Tenant-ID"
  
  # Telemetry
  OTEL_SERVICE_NAME: "kayan"
  OTEL_TRACES_SAMPLER: "parentbased_traceidratio"
  OTEL_TRACES_SAMPLER_ARG: "0.1"
